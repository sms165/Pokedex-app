let pokemonRepository=function(){let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=150",n=document.querySelector("#pokemon-modal");function o(t){e.push(t)}function l(e){let t=document.querySelector(".pokemon-list"),n=document.createElement("li");n.classList.add("group-list-item"),n.classList.add("col-lg-4","col-sm-12","col-md-6"),n.classList.add(e.name);let o=document.createElement("button");o.innerText=e.name,o.classList.add("btn","btn-primary"),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#pokemonModal"),n.appendChild(o),t.appendChild(n),function(e,t){e.addEventListener("click",function(){i(t)})}(o,e)}function i(e){a(e).then(function(){c(e)})}function a(e){let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.other.dream_world.front_default,e.imageUrlArtwork=t.sprites.other.home.front_default,e.height=t.height,e.types=t.types,e.weight=t.weight,e.abilities=t.abilities,console.log(e.detailsUrl),e.detailsUrl}).catch(function(e){console.error(e)})}function c(t){let n=$(".modal-body"),o=$(".modal-title"),l=$(".modal-header");o.empty(),l.empty(),n.empty();let a=$("<h1>"+t.name+"</h1>"),c=document.createElement("button");c.classList.add("forward-arrow"),c.innerText=">";let r=document.createElement("button");r.classList.add("backward-arrow"),r.innerText="<",c.addEventListener("click",function(){for(let n=0;n<e.length;n++){let n=e.indexOf(t)+1,o=e[n];n==e.length?i(e[0]):i(o)}}),r.addEventListener("click",function(){for(let n=0;n<e.length;n++){let n=e.indexOf(t)-1;console.log(n);let o=e[n],l=parseInt(e.length-1);console.log(l);let a=e[l];console.log(a),console.log(e[0]),i(n<=-1?e[l]:o)}});let s=document.createElement("img");s.src=t.imageUrl,s.classList.add("pokemon-image");let d=document.createElement("button");d.classList.add("forward-arrow"),d.innerText=">",d.addEventListener("click",function(){s.src==t.imageUrl?s.src=t.imageUrlArtwork:s.src=t.imageUrl});let m=document.createElement("button");m.classList.add("backward-arrow"),m.innerText="<",m.addEventListener("click",function(){s.src==t.imageUrlArtwork?s.src=t.imageUrl:s.src=t.imageUrlArtwork});let p=$("<p>Height: "+t.height+" cm</p>"),u=$("<p>Weight: "+t.weight+" kg</p>"),f="<p>Types: ",g=t.types;for(let e=0;e<g.length;e++){const t=g[e];f+=e>0?", "+t.type.name:t.type.name+" "}f+="</p>";let h="<p>Abilities: ",y=t.abilities;for(let e=0;e<y.length;e++){const t=y[e];h+=e>0?", "+t.ability.name:t.ability.name+" "}h+="</p>",o.append(a),l.append(r),l.append(a),l.append(c),n.append(p),n.append(u),n.append(f),n.append(h),n.append(m),n.append(s),n.append(d)}function r(){n.classList.remove("is-visible")}return window.addEventListener("keydown",e=>{"Escape"===e.key&&n.classList.contains("is-visible")&&r()}),{add:o,getAll:function(){return e},find:function(t){console.log(t);let n=t.toLowerCase();$(".pokemon-list").empty(),e.forEach(e=>{e.name.indexOf(n)>-1?(console.log(e.name),l(e)):console.log(!1)})},addListItem:l,loadList:function(){return fetch(t).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){o({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:a,showModal:c,hideModal:r}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});let pokemonList=pokemonRepository.getAll();pokemonList.forEach(function(e){pokemonRepository.addListItem(e)});let mybutton=document.getElementById("btn-back-to-top");function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function backToTop(){document.body.scrollTop=0,document.documentElement.scrollTop=0}window.onscroll=function(){scrollFunction()},mybutton.addEventListener("click",backToTop);